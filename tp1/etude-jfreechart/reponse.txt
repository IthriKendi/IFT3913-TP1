Quand nous appliquons la fonction "tropcomp" sur le fichier de test du projet JFreechart, notre objectif est de repérer les classes qui pourraient potentiellement contenir un code de test complexe. Pour des seuils de 1% et 5%, le programme ne signale aucune classe suspecte. En revanche, pour un seuil de 10%, le programme identifie une seule classe comme suspecte.

La fonction "tropcomp" effectue cette évaluation en comparant le seuil spécifié avec deux métriques, à savoir "tloc" (le nombre de lignes de code non vides et non commentées) et "tcmp" (le rapport entre tloc et le nombre d'assertions dans la classe). Cependant, il est important de noter que la simple quantité de lignes dans une classe ne reflète pas nécessairement sa complexité. Par exemple, "tloc" compte également les lignes contenant des imports de packages, des déclarations de fonctions (comme "@Test" ou "public void test"), ainsi que les lignes contenant des caractères d'ouverture ou de fermeture de bloc de code tels que "{" ou "}" qui n'ont pas d'impact sur la complexité d'une classe.

Nous avons mené une expérience en utilisant uniquement la valeur de "tcmp" pour déterminer les classes dépassant le seuil de complexité, et les résultats étaient intéressants par rapport à ceux obtenus avec "tloc" et "tcmp". Pour les seuils respectifs de 1%, 5%, et 10%, le programme a identifié 4, 18, et 35 classes suspectes.

"tcmp" calcule la proportion de lignes de code par rapport au nombre d'assertions dans une classe, ce qui s'avère être une métrique efficace pour évaluer la complexité d'une classe. Prendre en compte le nombre de lignes biaise les résultats, car une classe avec 307 lignes et 40 assertions peut être complexe, tandis qu'une classe avec 171 lignes et 4 assertions peut être tout aussi complexe, voire plus. Cependant, le programme ne considère pas la classe avec 171 lignes et 4 assertions comme complexe avec un seuil de 10%, même si son "tcmp" (42.75) est beaucoup plus élevé que celui de la classe avec 307 lignes (7.67). Ainsi, plus la valeur de "tcmp" est élevée, plus la classe est considérée comme complexe.